<!DOCTYPE html>
<html>
<head>
  <title>index.js.html</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../", thisFile = "coverage/lcov-report/index.js.html", defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>
</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">
    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container"><div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
      <tr>
        <td class="docs">
          <h1>index.js.html</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1">&#182;</a>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre><span class="cp">&lt;!doctype html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">&quot;en&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span>Code coverage report for index.js<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">&quot;utf-8&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href=</span><span class="s">&quot;prettify.css&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href=</span><span class="s">&quot;base.css&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content=</span><span class="s">&quot;width=device-width, initial-scale=1&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;style </span><span class="na">type=</span><span class="s">&#39;text/css&#39;</span><span class="nt">&gt;</span>
        <span class="nc">.coverage-summary</span> <span class="nc">.sorter</span> <span class="p">{</span>
            <span class="k">background-image</span><span class="o">:</span> <span class="sx">url(sort-arrow-sprite.png)</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="nt">&lt;/style&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&#39;wrapper&#39;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&#39;pad1&#39;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;h1&gt;</span>
      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;index.html&quot;</span><span class="nt">&gt;</span>All files<span class="nt">&lt;/a&gt;</span> index.js
    <span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&#39;clearfix&#39;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&#39;fl pad1y space-right2&#39;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;strong&quot;</span><span class="nt">&gt;</span>94.44% <span class="nt">&lt;/span&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;quiet&quot;</span><span class="nt">&gt;</span>Statements<span class="nt">&lt;/span&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;fraction&#39;</span><span class="nt">&gt;</span>17/18<span class="nt">&lt;/span&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&#39;fl pad1y space-right2&#39;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;strong&quot;</span><span class="nt">&gt;</span>66.67% <span class="nt">&lt;/span&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;quiet&quot;</span><span class="nt">&gt;</span>Branches<span class="nt">&lt;/span&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;fraction&#39;</span><span class="nt">&gt;</span>4/6<span class="nt">&lt;/span&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&#39;fl pad1y space-right2&#39;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;strong&quot;</span><span class="nt">&gt;</span>100% <span class="nt">&lt;/span&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;quiet&quot;</span><span class="nt">&gt;</span>Functions<span class="nt">&lt;/span&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;fraction&#39;</span><span class="nt">&gt;</span>4/4<span class="nt">&lt;/span&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&#39;fl pad1y space-right2&#39;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;strong&quot;</span><span class="nt">&gt;</span>100% <span class="nt">&lt;/span&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;quiet&quot;</span><span class="nt">&gt;</span>Lines<span class="nt">&lt;/span&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;fraction&#39;</span><span class="nt">&gt;</span>15/15<span class="nt">&lt;/span&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&#39;status-line high&#39;</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;pre&gt;&lt;table</span> <span class="na">class=</span><span class="s">&quot;coverage&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;tr&gt;&lt;td</span> <span class="na">class=</span><span class="s">&quot;line-count quiet&quot;</span><span class="nt">&gt;</span>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40<span class="nt">&lt;/td&gt;&lt;td</span> <span class="na">class=</span><span class="s">&quot;line-coverage quiet&quot;</span><span class="nt">&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-neutral&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-neutral&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-neutral&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-neutral&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-neutral&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-neutral&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-neutral&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-neutral&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-yes&quot;</span><span class="nt">&gt;</span>1x<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-yes&quot;</span><span class="nt">&gt;</span>1x<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-neutral&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-neutral&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-neutral&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-neutral&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-neutral&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-neutral&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-neutral&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-neutral&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-neutral&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-neutral&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-neutral&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-neutral&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-yes&quot;</span><span class="nt">&gt;</span>1x<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-yes&quot;</span><span class="nt">&gt;</span>1x<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-yes&quot;</span><span class="nt">&gt;</span>1x<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-yes&quot;</span><span class="nt">&gt;</span>1x<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-yes&quot;</span><span class="nt">&gt;</span>2x<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-yes&quot;</span><span class="nt">&gt;</span>2x<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-yes&quot;</span><span class="nt">&gt;</span>2x<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-yes&quot;</span><span class="nt">&gt;</span>2x<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-yes&quot;</span><span class="nt">&gt;</span>2x<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-yes&quot;</span><span class="nt">&gt;</span>2x<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-yes&quot;</span><span class="nt">&gt;</span>2x<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-yes&quot;</span><span class="nt">&gt;</span>1x<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-neutral&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-neutral&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-yes&quot;</span><span class="nt">&gt;</span>1x<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-neutral&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-neutral&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cline-any cline-neutral&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/span&gt;&lt;/td&gt;&lt;td</span> <span class="na">class=</span><span class="s">&quot;text&quot;</span><span class="nt">&gt;&lt;pre</span> <span class="na">class=</span><span class="s">&quot;prettyprint lang-js&quot;</span><span class="nt">&gt;</span>import {
  isString,
  keys
} from &#39;lodash&#39;
import multimatch from &#39;multimatch&#39;
import mmm from &#39;mmmagic&#39;
import debug from &#39;debug&#39;
<span class="ni">&amp;nbsp;</span>
const magic = new mmm.Magic(mmm.MAGIC_MIME_TYPE)
const dbg = debug(&#39;metalsmith-mime-type&#39;)
<span class="ni">&amp;nbsp;</span>
/**
 * ## default fn
 * this fn is exported as the module, designed to be called by `metalsmith#use`
 *
 * ```
 * .use(move([&#39;*&#39;, &#39;!*.jpg&#39;])
 * ```
 *
 * @param {String|Array} pattern - one or more multimatch patterns
 */
export default function (pattern) {
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;missing-if-branch&quot;</span> <span class="na">title=</span><span class="s">&quot;else path not taken&quot;</span> <span class="nt">&gt;</span>E<span class="nt">&lt;/span&gt;</span>if (isString(pattern)) pattern = [ pattern ]
  return (files, metalsmith, done) =<span class="ni">&amp;gt;</span> {
    const matches = multimatch(keys(files), pattern)
    const iterator = () =<span class="ni">&amp;gt;</span> {
      const src = matches.shift()
      const meta = files[src]
      magic.detect(meta.contents, (err, mimeType) =<span class="ni">&amp;gt;</span> {
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;missing-if-branch&quot;</span> <span class="na">title=</span><span class="s">&quot;if path not taken&quot;</span> <span class="nt">&gt;</span>I<span class="nt">&lt;/span&gt;</span>if (err) <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;cstat-no&quot;</span> <span class="na">title=</span><span class="s">&quot;statement not covered&quot;</span> <span class="nt">&gt;</span>throw err<span class="nt">&lt;/span&gt;</span>
        meta.mimeType = mimeType
        dbg(`${src} <span class="ni">&amp;gt;</span> ${mimeType}`)
        if (matches.length) process.nextTick(iterator)
        else done()
      })
    }
    iterator()
  }
}
<span class="ni">&amp;nbsp;</span><span class="nt">&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;</span>
<span class="nt">&lt;/table&gt;&lt;/pre&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&#39;push&#39;</span><span class="nt">&gt;&lt;/div&gt;</span><span class="c">&lt;!-- for sticky footer --&gt;</span>
<span class="nt">&lt;/div&gt;</span><span class="c">&lt;!-- /wrapper --&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&#39;footer quiet pad2 space-top1 center small&#39;</span><span class="nt">&gt;</span>
  Code coverage
  generated by <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;http://istanbul-js.org/&quot;</span> <span class="na">target=</span><span class="s">&quot;_blank&quot;</span><span class="nt">&gt;</span>istanbul<span class="nt">&lt;/a&gt;</span> at Tue Dec 27 2016 13:47:29 GMT+0800 (AWST)
<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;prettify.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">prettyPrint</span> <span class="o">===</span> <span class="s1">&#39;function&#39;</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">prettyPrint</span><span class="p">();</span>
        <span class="p">}</span>
<span class="p">};</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;sorter.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
        </td>
      </tr>
  </tbody>
</table>
  </div>
</body>
</html>
